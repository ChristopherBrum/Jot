(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-621e"],{"0txt":function(t,e,n){"use strict";var i=n("M9r2");n.n(i).a},"3FMA":function(t,e,n){"use strict";var i=n("ID0Q");n.n(i).a},"3j9E":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this.$createElement;this._self._c;return this._m(0)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"jsoneditor-vue"})])}]},ID0Q:function(t,e,n){},M9r2:function(t,e,n){},O0nT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(n("Yz+Y")),a=l(n("iCc5")),s=l(n("V7oC")),r=l(n("FYw3")),o=l(n("tfYw")),u=l(n("mRg0"));function l(t){return t&&t.__esModule?t:{default:t}}n("drU8");var d=n("0fIc").JSONEditor;e.default={props:{value:{type:Object,default:function(){}},schema:{type:Object,default:function(){}}},data:function(){return{editor:null,error:!1,json:this.value,internalChange:!1}},watch:{},mounted:function(){this.update()},methods:{update:function(){var t=this,e={schema:this.schema,startval:this.value,theme:"bootstrap4",iconlib:"materialicons",required_by_default:!0};this.editor&&this.editor.destroy(),this.editor=new d(this.$el.querySelector(".jsoneditor-vue"),e);var n=!0;this.editor.on("change",(function(){n?n=!1:t.$emit("input",t.editor.getValue())}));var i;(i=document.querySelector(".je-modal .je-edit-json--textarea")).classList.remove("je-edit-json--textarea"),i.classList.add("expandable-textarea")},onSave:function(){this.$emit("json-save",this.json)}}},d&&(d.defaults.resolvers.unshift((function(t){if("object"===t.type&&"schema"===t.format)return"schema"})),d.defaults.editors.schema=function(t){function e(){return(0,a.default)(this,e),(0,r.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,s.default)(e,[{key:"setValue",value:function(t,e){this.value=t,this.schemaeditor.setValue(t),this.onChange()}},{key:"getValue",value:function(){return void 0!==this.schemaeditor?this.schemaeditor.getValue():{}}},{key:"register",value:function(){(0,o.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"register",this).call(this),this.input&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){(0,o.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){return 12}},{key:"build",value:function(){var t=this;this.options.compact||(this.label=this.header=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=document.createElement("div"),this.control=this.theme.getFormControl(this.label,this.input,this.description),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.container.appendChild(this.control),this.schemaeditor=new window.JSONSchemaEditor(this.input,{startval:{}}),this.schemaeditor.on("change",(function(){t.onChange(!0)}))}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1),(0,o.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(){this.input.disabled=!0,(0,o.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),(0,o.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"destroy",this).call(this)}}]),e}(d.AbstractEditor))},S1Uu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"error-message"},[t._v("\n      "+t._s(t.error)+"\n    ")]),t._v(" "),t.ready?[t.ready?n("JSONEditor",{attrs:{schema:t.schema},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}):t._e(),t._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",on:{click:t.install}},[t._v("\n          Install\n        ")])])]:t._e()],2)])},a=[]},"T/Cm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=u(n("14Xm")),s=u(n("D3Ub")),r=u(n("t3Un")),o=u(n("fKSE"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Install",components:{JSONEditor:o.default},data:function(){return{data:{},ready:!1}},watch:{"$route.path":{handler:"update"}},mounted:(i=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.update();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)}),methods:{update:function(){var t=this;return(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.default)({url:"/install/settings/schema"});case 2:t.schema=e.sent.data.schema,t.ready=!0;case 4:case"end":return e.stop()}}),e,t)})))()},install:function(){var t=this;return(0,s.default)(a.default.mark((function e(){var n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.default)({method:"post",url:"/install",data:{settings:t.data,modules:["collections","core","logging","permissions"]}});case 2:return n=t.data.email,i=t.data.password,e.next=6,(0,r.default)({method:"post",url:"/users/register",data:{email:n,roles:["Admin"],password:i}});case 6:t.$store.dispatch("Login",{username:n,password:i}).then((function(){t.loading=!1,t.$router.push({path:t.redirect||"/"})})).catch((function(){t.loading=!1}));case 7:case"end":return e.stop()}}),e,t)})))()}}}},XZgb:function(t,e,n){"use strict";n.r(e);var i=n("O0nT"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e.default=a.a},fKSE:function(t,e,n){"use strict";n.r(e);var i=n("3j9E"),a=n("XZgb");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("3FMA");var r=n("KHd+"),o=Object(r.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="JSONEditor.vue",e.default=o.exports},l2Fg:function(t,e,n){"use strict";n.r(e);var i=n("S1Uu"),a=n("w7lz");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("0txt");var r=n("KHd+"),o=Object(r.a)(a.default,i.a,i.b,!1,null,"3c5b79e9",null);o.options.__file="Install.vue",e.default=o.exports},w7lz:function(t,e,n){"use strict";n.r(e);var i=n("T/Cm"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e.default=a.a}}]);